# MySQL  

## 1.  sql、DB、DBMS分别是什么？
- DB：DataBase（数据库，数据库实际上在硬盘上以文件的形式存在）  

- DBMS: DataBase Management System（数据库管理系统，常见的有：MySQL Oracle DB2 Sybase SqlServer...）  

- SQL：结构化查询语言，是一门标准通用的语言。标准的sql适合于所有数据库产品。
SQL语句在执行的时候，实际上内部也会先进行编译，然后再执行sql。（sql语句的编译由DBMS完成）

- DBMS负责执行sql语句，通过执行sql语句来操作DB当中的数据
- DBMS -(执行)-> SQL -(操作)-> DB
<br>
<br>
<br>

## 2.什么是表？
###  表 table  数据库基本组成单元，所有的数据都以表格的形式组织，目的是可读性强  

#### 一个表包括行和列
- 行：被称为数据/记录（data）
- 列：被称为字段（column）  

#### 每一个字段应该包括？
- 字段名，数据类型，相关的约束
<br>
<br>
<br>

## 3.MySQL语句包括增删改查，SQL语句怎么分类？
### DQL（数据查询语言Data Query Language）: 查询语句 凡是select语句都是DQL
### DML（数据操作语言Data Manipulation Language）: insert delete update 对表当中的数据进行增删改
### DDL（数据定义语言data definition language）: create drop alter 对表结构的增删改
### TCL（事务控制语言Data Control Language）: commit提交事务，rollback回滚事务 
### DCL（数据控制语言Data Control Language）: grant授权，revoke撤销权限等
<br>
<br>
<br>

## 4.导入数据
### 第一步 登录  dos命令窗口 mysql -uroot -p
### 第二步查看有哪些数据 
- show databases; (这个不是SQL语句，属于MySQL的命令)
### 第三步 创建属于我们自己的数据库
- create database powernode(动力节点);(这个不是SQL语句，属于MySQL的命令)
### 第四步 使用bjpowernode数据
- use powernode;(这个不是SQL语句，属于MySQL的命令)
### 第五步 查看当前使用的数据库中有哪些表
- show tables;(这个不是SQL语句，属于MySQL的命令)
### 第六步 初始化数据
- source 加文件路径 powernode.sql
<br>
<br>
<br>

## 5. powernode.sql
### 这个文件以sql结尾，这样的文件被称为“sql脚本”
### 当一个文件的扩展名是.sql，并且该文件中编写了大量的sql语句，这样的文件被称为脚本。
<br>
<br>
<br>

## 6. 常用命令
- mysql> selectdatabase(); 

- mysql> selectversion(); 

- \c  命令，结束一条语句

## 7. 查看创建表的语句
- show create table emp;  
<br>
<br>

## 8. 简单的查询语句（DQL）
- 语法格式： select 字段名1，字段名2，字段名3，... from表名;   
1. 任何一条sql语句以;结尾
2. sql语句不区分大小写

<br>
<br>
<br>

## 9. 条件查询
语法格式  
&emsp;&emsp;select  
&emsp;&emsp;&emsp;&emsp;字段，字段...  
&emsp;&emsp;from  
&emsp;&emsp;&emsp;&emsp;表名  
&emsp;&emsp;where  
&emsp;&emsp;&emsp;&emsp;条件


###  - between在使用的时候必须左小右大  
###  - 运算符优先级不确定的时候加小括号
###  - in等同于or
###  - 模糊查找like
- 必须掌握两个特殊的符号 % 和 _
- % 代表任意多个字符  _ 代表任意1个字符
<br>
<br>

## 10. 排序（升序降序）
&emsp;&emsp;select  
&emsp;&emsp;&emsp;&emsp;ename,sal   
&emsp;&emsp;from  
&emsp;&emsp;&emsp;&emsp;emp  
&emsp;&emsp;oeder by  
&emsp;&emsp;&emsp;&emsp;sal;
- by sal 和 by sal asc 表示升序
- By sal desc 表示降序  
- 越靠前的字段越能起到主导作用 只有当前字段无法完成排序的时候，才会启用后面的字段。
<br>
<br>
<br>

## 11. 分组函数
### count 计数  
### sum 求和  
### avg 平均值  
### max 最大值  
### min 最小值  
### &emsp;&emsp;所有的分组函数都是对“某一组”数据进行操作
### &emsp;&emsp;分组函数一共5个
### 特点：输入多行 最终输出的结果是1行
### 分组函数自动忽略null
### &emsp;&emsp;select sum(comm) from emp;
<br>
<br>

### 问题 找出工资高于平均工资的员工？ 
#### &emsp;&emsp;select avg(sal) from emp; //平均工资
#### &emsp;&emsp;select ename,sal from emp where sal > avg(sal);//error
### 原因：SQL语句当中有一个语法规则，分组函数不可以直接使用在where子句当中
### &emsp;&emsp;&emsp;因为group by是在where执行之后才会执行的
### 第一步：找出平均工资
#### &emsp;&emsp;select avg(sal) from emp;
### 第二步： 找出高于平均工资的员工
#### &emsp;&emsp;select ename,sal from emp where sal >(第一步的计算结果) ;
<br>

### 合并
####　&emsp;&emsp;select ename,sal from emp where sal >　（select avg(sal) from emp;）
<br>

语法格式  
&emsp;&emsp;select&emsp;&emsp;&emsp;&emsp;5  
&emsp;&emsp;&emsp;&emsp;...  
&emsp;&emsp;from&emsp;&emsp;&emsp;&emsp;1  
&emsp;&emsp;&emsp;&emsp;...      
&emsp;&emsp;where&emsp;&emsp;&emsp;&emsp;2  
&emsp;&emsp;&emsp;&emsp;...  
&emsp;&emsp;group by&emsp;&emsp;&emsp;&emsp;3  
&emsp;&emsp;&emsp;&emsp;...  
&emsp;&emsp;having&emsp;&emsp;&emsp;&emsp;4  
&emsp;&emsp;&emsp;&emsp;...  
&emsp;&emsp;order by&emsp;&emsp;&emsp;&emsp;6  
&emsp;&emsp;&emsp;&emsp;...  

### count(*)和count(具体的某个字段)，有什么区别？
### &emsp;&emsp; count(*) 不是统计某个字段中数据的个数，而是统计总记录条数。
### &emsp;&emsp; count(comm) 表示统计comm字段中不为NULL的数据总数。
<br>
<br>

### 分组函数也能组合起来使用：
### select count(*),sum(sal),avg(sal),max(sal),min(sal) from emp; 
<br>
<br>

## 12. 单处理函数
### &emsp;&emsp;输入一行，输出一行
#### 注意：所有数据库都是这样规定的，只要有NULL参与的运算结果一定是NULL    
<br>
<br>

### ifnull( )空处理函数？
### &emsp;&emsp;ifnull( )(可能为NULL的数据，被当做什么处理)：（属于单行处理函数）
### select ename,ifnull(comm,0) as coom from emp;
<br>
<br>

## 13. group by和having
### &emsp;&emsp;group by ：按照某个字段或者某些字段进行分组
### &emsp;&emsp;having ： having是对分组之后的数据进行再次过滤
<br>   

### 案例：找出每个工作岗位的最高薪资
#### &emsp;&emsp; select max(sal) from emp  group by job;
#### &emsp;&emsp; select max(sal),job from emp group by job;
### 注意： 
- 分组函数一般都会和group by联合使用。
- 并且任何一个分组函数(count sum avg max min)都是在group by语句执行结束之后才会执行的
- 当一条SQL语句没有group by的话，整张表的数据会自成一组 



